---
interface Props {
  title: string;
  description: string;
  imageSrc: string;
  imageAlt: string;
  reversed?: boolean;
  additionalImages?: string[];
}

const {
  title,
  description,
  imageSrc,
  imageAlt,
  reversed = false,
  additionalImages = [],
} = Astro.props;
---

<section class="py-24 lg:py-32 relative overflow-hidden group">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div
      class={`flex flex-col lg:flex-row items-center gap-12 lg:gap-16 ${reversed ? "lg:flex-row-reverse" : ""}`}
    >
      <!-- Text Content -->
      <div class="flex-1 text-center lg:text-left space-y-6">
        <h2 class="text-3xl md:text-5xl font-bold text-gray-900 leading-tight">
          {title}
        </h2>
        <p class="text-lg md:text-xl text-gray-600 leading-relaxed">
          {description}
        </p>
      </div>

      <!-- Image/Visual -->
      <div
        class="flex-1 w-full max-w-lg lg:max-w-none relative flex justify-center"
      >
        {
          additionalImages.length > 0 ? (
            <div class="flex gap-4 relative max-h-[80vh] items-center justify-center">
              <div class="relative transition-transform hover:scale-105 duration-300">
                <div class="bg-white p-2 rounded-3xl shadow-2xl w-fit mx-auto">
                  <img
                    src={`${import.meta.env.BASE_URL}${imageSrc.replace(/^\//, '')}`}
                    alt={imageAlt}
                    class="w-auto h-auto object-contain max-h-[60vh] lg:max-h-[70vh]"
                    style="clip-path: inset(7% 0 3.5% 0); margin-top: -7%; margin-bottom: -3.5%;"
                    loading="lazy"
                  />
                </div>
              </div>
              {additionalImages.map((img, index) => (
                <div class="relative transition-transform hover:scale-105 duration-300">
                  <div class="bg-white p-2 rounded-3xl shadow-2xl w-fit mx-auto">
                    <img
                      src={`${import.meta.env.BASE_URL}${img.replace(/^\//, '')}`}
                      alt={`${imageAlt} ${index + 2}`}
                      class="w-auto h-auto object-contain max-h-[60vh] lg:max-h-[70vh]"
                      style="clip-path: inset(7% 0 3.5% 0); margin-top: -7%; margin-bottom: -3.5%;"
                      loading="lazy"
                    />
                  </div>
                </div>
              ))}
            </div>
          ) : (
            <div class="relative inline-block max-h-[80vh]">
              <div class="bg-white p-2 rounded-3xl shadow-2xl w-fit mx-auto">
                <img
                  src={`${import.meta.env.BASE_URL}${imageSrc.replace(/^\//, '')}`}
                  alt={imageAlt}
                  class="w-full h-full max-h-[80vh] object-contain"
                  style="clip-path: inset(7% 0 3.5% 0); margin-top: -7%; margin-bottom: -3.5%;"
                  loading="lazy"
                />
              </div>
            </div>
          )
        }
      </div>
    </div>
  </div>
</section>
